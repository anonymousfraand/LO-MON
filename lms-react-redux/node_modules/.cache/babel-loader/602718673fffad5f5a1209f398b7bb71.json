{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kingswin\\\\Downloads\\\\learning-management-system-project-master\\\\learning-management-system-project-master\\\\lms-react-redux\\\\src\\\\SignUp.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport teacher from \"./noun_Teacher_642198.svg\";\nimport student from \"./noun_student_63368.svg\"; // const axios = require('axios');\n// let imageURL;\n\nclass SignUp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      first_name: '',\n      last_name: '',\n      bio: '',\n      image_url: '',\n      position: '',\n      errors: []\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleOnClick = position => {\n      this.setState({\n        position: position\n      });\n    };\n\n    this.timeOut = () => {\n      window.setTimeout(() => {\n        this.setState({\n          errors: []\n        });\n      }, 2000);\n    };\n\n    this.handleOnSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password,\n            first_name = _this$state.first_name,\n            last_name = _this$state.last_name,\n            bio = _this$state.bio,\n            image_url = _this$state.image_url,\n            position = _this$state.position; // console.log(e.target)\n      // let position = this.state.position\n\n      if (position) {\n        fetch(\"https://lms-api-rails.herokuapp.com/api/v1/\".concat(this.state.position, \"s\"), {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          // body: JSON.stringify({\n          //     user: this.state\n          // })\n          body: JSON.stringify({\n            user: {\n              username: username,\n              password: password,\n              first_name: first_name,\n              last_name: last_name,\n              bio: bio,\n              image_url: image_url,\n              // image_url: imageURL,\n              position: position\n            }\n          })\n        }).then(res => res.json()).then(user => {\n          // console.log(user.errors)\n          if (user.errors) {\n            // alert(user.errors)\n            this.setState({\n              errors: user.errors\n            });\n            this.timeOut();\n          } else {\n            localStorage.setItem(\"token\", user.jwt); // console.log(Object.keys(user)[0])\n            // console.log(user[Object.keys(user)[0]])\n\n            this.props.changeUser(user[Object.keys(user)[0]]); //since either a teacher or student key is returned, utilizing Object keys was best\n\n            this.props.history.push('/courses');\n          }\n        });\n      } else {\n        // alert('Please choose if a teacher or student')\n        this.setState({\n          errors: [...this.state.errors, \"Please choose if a teacher or student\"]\n        });\n        this.timeOut();\n      }\n    };\n  }\n\n  render() {\n    // console.log(this.props.history)\n    return React.createElement(\"div\", {\n      className: \"ui container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleOnClick('teacher'),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Teacher\"), React.createElement(\"div\", {\n      className: \"or\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.handleOnClick('student'),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Adimin\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), this.state.position ? React.createElement(\"div\", {\n      className: \"ui segment\",\n      style: {\n        width: \"100px\",\n        height: \"100px\",\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.position === \"teacher\" ? React.createElement(\"img\", {\n      src: teacher,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: student,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })) : null, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"ui form\",\n      onSubmit: this.handleOnSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.username,\n      placeholder: \"User Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.password,\n      placeholder: \" Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first_name\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.first_name,\n      placeholder: \"First Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last_name\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.last_name,\n      placeholder: \"Last Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Bio\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"bio\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.bio,\n      placeholder: \"Small Bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Image URL\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"image_url\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.image_url,\n      placeholder: \"Image URL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"ui button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Sign Up\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), this.state.errors.length !== 0 ? React.createElement(\"div\", {\n      className: \"ui error message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Errors with your submission\"), React.createElement(\"ul\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, this.state.errors.map(error => {\n      return React.createElement(\"li\", {\n        key: this.state.errors.indexOf(error),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, error);\n    }))) : null);\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeUser: userObj => {\n      dispatch({\n        type: \"SET_USER\",\n        payload: userObj\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(SignUp);","map":{"version":3,"sources":["C:\\Users\\kingswin\\Downloads\\learning-management-system-project-master\\learning-management-system-project-master\\lms-react-redux\\src\\SignUp.js"],"names":["React","Component","connect","SignUp","state","username","password","first_name","last_name","bio","image_url","position","errors","handleOnChange","e","setState","target","name","value","handleOnClick","timeOut","window","setTimeout","handleOnSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","res","json","localStorage","setItem","jwt","props","changeUser","Object","keys","history","push","render","width","height","margin","teacher","student","length","map","error","indexOf","mapDispatchToProps","dispatch","userObj","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport teacher from './noun_Teacher_642198.svg'\nimport student from './noun_student_63368.svg'\n\n// const axios = require('axios');\n// let imageURL;\n\nclass SignUp extends Component {\n    state = {\n        username: '',\n        password: '',\n        first_name: '',\n        last_name: '',\n        bio: '',\n        image_url: '',\n        position: '',\n        errors: []\n    }\n\n    handleOnChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    handleOnClick = (position) => {\n        this.setState({\n            position: position\n        })\n    } \n\n    timeOut = () => {\n        window.setTimeout(() => {\n            this.setState({\n              errors: []\n            });\n          }, 2000);\n    }\n\n    handleOnSubmit = (e) => {\n        e.preventDefault()\n        const {username, password, first_name,last_name,bio,image_url,position} = this.state\n        // console.log(e.target)\n        // let position = this.state.position\n        if(position){\n            fetch(`https://lms-api-rails.herokuapp.com/api/v1/${this.state.position}s`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                // body: JSON.stringify({\n                //     user: this.state\n                // })\n                body: JSON.stringify({\n                    user: {\n                        username: username,\n                        password: password,\n                        first_name: first_name,\n                        last_name: last_name,\n                        bio: bio,\n                        image_url: image_url,\n                        // image_url: imageURL,\n                        position: position\n                    }\n                })\n            }) \n            .then(res => res.json())\n            .then(user => {\n                // console.log(user.errors)\n                if(user.errors){\n                    // alert(user.errors)\n                    this.setState({\n                        errors: user.errors\n                    })\n                    this.timeOut()\n                }\n                else{\n                    localStorage.setItem(\"token\", user.jwt)\n                    // console.log(Object.keys(user)[0])\n                    // console.log(user[Object.keys(user)[0]])\n                    this.props.changeUser(user[Object.keys(user)[0]]) //since either a teacher or student key is returned, utilizing Object keys was best\n                    this.props.history.push('/courses')\n                } \n            })\n        }\n        else{\n            // alert('Please choose if a teacher or student')\n            this.setState({\n                errors: [...this.state.errors, \"Please choose if a teacher or student\"]\n            })\n            this.timeOut()\n        }  \n    }\n    render() {\n        // console.log(this.props.history)\n        return (\n            <div className=\"ui container\">\n                <div className=\"ui buttons\">\n                        <button onClick={() => this.handleOnClick('teacher')} className=\"ui button\">Teacher</button>\n                        <div className=\"or\"></div>\n                        <button onClick={() => this.handleOnClick('student')} className=\"ui button\">Adimin</button>\n                </div>\n                <br></br>\n                <br></br>\n                {this.state.position ?\n                    <div className=\"ui segment\" style={{width: \"100px\", height: \"100px\", margin: \"auto\"}}>\n                        {\n                        this.state.position === \"teacher\" ?\n                            <img src={teacher}></img>\n                            :\n                            <img src={student}></img>\n                        }\n                    </div> \n                    \n                    : \n                    null\n                }\n                <br></br>\n                <br></br>\n                <form className=\"ui form\" onSubmit={this.handleOnSubmit}>\n                    <div className=\"field\">\n                        <label>Username</label>\n                        <input type=\"text\" name=\"username\" required onChange={this.handleOnChange} value={this.state.username} placeholder=\"User Name\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>Password</label>\n                        <input type=\"password\" name=\"password\" required onChange={this.handleOnChange} value={this.state.password} placeholder=\" Password\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>First Name</label>\n                        <input type=\"text\" name=\"first_name\" required onChange={this.handleOnChange} value={this.state.first_name} placeholder=\"First Name\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>Last Name</label>\n                        <input type=\"text\" name=\"last_name\" required onChange={this.handleOnChange} value={this.state.last_name} placeholder=\"Last Name\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>Bio</label>\n                        <input type=\"text\" name=\"bio\" required onChange={this.handleOnChange} value={this.state.bio} placeholder=\"Small Bio\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>Image URL</label>\n                        <input type=\"text\" name=\"image_url\" required onChange={this.handleOnChange} value={this.state.image_url} placeholder=\"Image URL\"/>\n                        {/* <input type=\"file\" className=\"inputfile ui huge button\" name=\"image_url\" required onChange={this.handlePhotoUpload} placeholder=\"Image URL\"/> */}\n                        \n                    </div>\n                    \n\n                    <button className=\"ui button\" type=\"submit\">Sign Up</button>\n                </form>      \n                <br></br>\n                <br></br>\n                \n                {\n                    this.state.errors.length !== 0 ? \n\n                    <div className=\"ui error message\">\n                        <div className=\"header\">\n                            Errors with your submission\n                        </div>\n                        <ul className=\"list\">\n                        {this.state.errors.map(error => {\n                            return <li key={this.state.errors.indexOf(error)}>{error}</li>\n                        })\n                        }\n                        </ul>\n                    </div>\n                    \n                    :\n                    null\n                }\n\n            </div>\n            \n        )\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        changeUser: (userObj) => {\n            dispatch({type:\"SET_USER\", payload: userObj})\n        }\n    }\n} \n\nexport default connect(null, mapDispatchToProps)(SignUp)\n"]},"metadata":{},"sourceType":"module"}