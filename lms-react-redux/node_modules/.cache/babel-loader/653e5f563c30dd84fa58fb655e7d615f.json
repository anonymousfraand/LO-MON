{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kingswin\\\\Downloads\\\\learning-management-system-project-master\\\\learning-management-system-project-master\\\\lms-react-redux\\\\src\\\\NewAssignmentForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nconst newCourseFormStyle = {\n  border: \"2px solid black\",\n  height: \"50vh\",\n  marginTop: \"40px\",\n  width: \"50vw\",\n  borderRadius: \"20px\"\n};\n\nclass NewAssignmentForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      note: '',\n      course_id: this.props.history.location.pathname.split(\"/\")[2],\n      due_date: ''\n    };\n\n    this.handleSubmit = e => {\n      const token = localStorage.getItem(\"token\");\n      e.preventDefault(); // console.log(this.props.history.location.pathname)\n      // this.props.addAssignment(this.state)\n\n      fetch(\"https://lms-api-rails.herokuapp.com/api/v1/courses/\".concat(this.props.history.location.pathname.split(\"/\")[2], \"/assignments\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"Authorization\": \"Bearer \".concat(token)\n        },\n        body: JSON.stringify({\n          assignment: this.state\n        })\n      }).then(resp => resp.json()).then(data => {\n        this.props.history.push(\"/courses/\".concat(this.props.history.location.pathname.split(\"/\")[2]));\n      }); // this.props.history.push(`/courses/${this.props.history.location.pathname.split(\"/\")[2]}`)\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.dateToday = () => {\n      let today = new Date();\n      let dd = today.getDate();\n      let mm = today.getMonth() + 1;\n      let yyyy = today.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      today = yyyy + '-' + mm + '-' + dd;\n      return today;\n    };\n  }\n\n  render() {\n    // console.log(this.props.history.location)\n    // let currentCourse = this.props.history.location.pathname.split(\"/\")[2]; //grabs current course id based on path name. ORDER of path is important\n    // console.log(currentCourse)\n    // console.log(this.state.course_id)\n    // console.log(this.state.due_date)\n    // console.log(this.dateToday())\n    // console.log(this.state.due_date)\n    return React.createElement(\"div\", {\n      className: \"ui container\",\n      style: newCourseFormStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"New Assignment Form\"), React.createElement(\"form\", {\n      className: \"ui form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Assignment Name\"), React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      required: true,\n      style: {\n        width: \"80%\"\n      },\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Note\"), React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      required: true,\n      style: {\n        width: \"80%\"\n      },\n      type: \"text\",\n      name: \"note\",\n      placeholder: \"Note\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Due Date\"), React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      required: true,\n      style: {\n        width: \"80%\"\n      },\n      type: \"date\",\n      min: this.dateToday(),\n      name: \"due_date\",\n      placeholder: \"Date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"ui button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addAssignment: newAssignment => {\n      dispatch({\n        type: \"ADD_ASSIGNMENT_TO_COURSE\",\n        payload: newAssignment\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewAssignmentForm);","map":{"version":3,"sources":["C:\\Users\\kingswin\\Downloads\\learning-management-system-project-master\\learning-management-system-project-master\\lms-react-redux\\src\\NewAssignmentForm.js"],"names":["React","Component","connect","Redirect","newCourseFormStyle","border","height","marginTop","width","borderRadius","NewAssignmentForm","state","name","note","course_id","props","history","location","pathname","split","due_date","handleSubmit","e","token","localStorage","getItem","preventDefault","fetch","method","headers","body","JSON","stringify","assignment","then","resp","json","data","push","handleOnChange","setState","target","value","dateToday","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","render","mapStateToProps","currentUser","mapDispatchToProps","dispatch","addAssignment","newAssignment","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport {Redirect} from 'react-router-dom'\n\nconst newCourseFormStyle = {\n    border: \"2px solid black\",\n    height: \"50vh\",\n    marginTop: \"40px\",\n    width: \"50vw\",\n    borderRadius: \"20px\"\n}\nclass NewAssignmentForm extends Component {\n    state = {\n        name: '',\n        note: '',\n        course_id: this.props.history.location.pathname.split(\"/\")[2],\n        due_date: ''\n    }\n\n    handleSubmit = (e) => {\n        const token = localStorage.getItem(\"token\")\n        e.preventDefault()\n        // console.log(this.props.history.location.pathname)\n        // this.props.addAssignment(this.state)\n        fetch(`https://lms-api-rails.herokuapp.com/api/v1/courses/${this.props.history.location.pathname.split(\"/\")[2]}/assignments`,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                assignment: this.state\n            })\n        })\n        .then(resp => resp.json())\n        .then(data => {\n            \n            this.props.history.push(`/courses/${this.props.history.location.pathname.split(\"/\")[2]}`)\n        })\n\n        // this.props.history.push(`/courses/${this.props.history.location.pathname.split(\"/\")[2]}`)\n    }\n\n    handleOnChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    dateToday = () => {\n        let today = new Date();\n        let dd = today.getDate();\n        let mm = today.getMonth() + 1;\n        let yyyy = today.getFullYear();\n        if(dd<10){\n            dd='0'+dd\n        } \n        if(mm<10){\n            mm='0'+mm\n        } \n        today = yyyy + '-' + mm + '-' + dd\n        \n        return today \n    }\n    render() {\n        // console.log(this.props.history.location)\n        // let currentCourse = this.props.history.location.pathname.split(\"/\")[2]; //grabs current course id based on path name. ORDER of path is important\n        // console.log(currentCourse)\n        // console.log(this.state.course_id)\n        // console.log(this.state.due_date)\n        // console.log(this.dateToday())\n        // console.log(this.state.due_date)\n        return (\n            <div className=\"ui container\" style={newCourseFormStyle}>\n            <br></br>\n            <h1>New Assignment Form</h1>\n            <form className=\"ui form\" onSubmit={this.handleSubmit}>\n                <div className=\"field\">\n                    <label>Assignment Name</label>\n                    <input onChange={this.handleOnChange} required style={{width: \"80%\"}} type=\"text\" name=\"name\" placeholder=\"Name\"/>\n                    \n                    <label>Note</label>\n                    <input onChange={this.handleOnChange} required style={{width: \"80%\"}} type=\"text\" name=\"note\" placeholder=\"Note\"/>\n\n                    <label>Due Date</label>\n                    <input onChange={this.handleOnChange} required style={{width: \"80%\"}} type=\"date\" min={this.dateToday()} name=\"due_date\" placeholder=\"Date\"/>\n                    \n                    <br></br>\n\n                    <button className=\"ui button\" type=\"submit\">Submit</button>\n                </div>\n            </form>\n        </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    return {\n        currentUser: state.currentUser\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        addAssignment: (newAssignment) => {\n          dispatch({type:\"ADD_ASSIGNMENT_TO_COURSE\", payload: newAssignment})\n        },\n        \n    }\n  } \n\nexport default connect(mapStateToProps,mapDispatchToProps)(NewAssignmentForm)\n"]},"metadata":{},"sourceType":"module"}