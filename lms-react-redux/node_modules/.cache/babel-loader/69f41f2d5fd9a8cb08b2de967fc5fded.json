{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kingswin\\\\Downloads\\\\learning-management-system-project-master\\\\learning-management-system-project-master\\\\lms-react-redux\\\\src\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport student from \"./noun_student_63368.svg\";\nimport teacher from \"./noun_Teacher_642198.svg\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      position: ''\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleOnClick = position => {\n      this.setState({\n        position: position\n      });\n    };\n\n    this.handleOnSubmit = e => {\n      e.preventDefault(); // console.log(e.target)\n\n      if (this.state.position) {\n        fetch(\"https://lms-api-rails.herokuapp.com/api/v1/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify(this.state)\n        }).then(res => res.json()).then(user => {\n          localStorage.setItem(\"token\", user.jwt); // console.log(user.jwt)\n\n          if (user.failure) {\n            // console.log(user.failure)\n            // alert(user.failure)\n            this.props.handleErrorMessage(user.failure);\n          } else {\n            // console.log(user.user)\n            this.props.changeUser(user.user);\n            this.props.history.push('/courses');\n          }\n        });\n      } else {\n        // alert('Please choose if a teacher or student')\n        this.props.handleErrorMessage(\"Please select if a teacher or student\");\n      }\n    };\n  }\n\n  render() {\n    // console.log(this.props.errorState)\n    // console.log(this.props.errorState.errorMessage)\n    return React.createElement(\"div\", {\n      className: \"ui container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleOnClick('teacher'),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Teacher\"), React.createElement(\"div\", {\n      className: \"or\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.handleOnClick('student'),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Admin\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), this.state.position ? React.createElement(\"div\", {\n      className: \"ui segment\",\n      style: {\n        width: \"100px\",\n        height: \"100px\",\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.position === \"teacher\" ? React.createElement(\"img\", {\n      src: teacher,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: student,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })) : null, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"ui form\",\n      onSubmit: this.handleOnSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.username,\n      placeholder: \"User Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      required: true,\n      onChange: this.handleOnChange,\n      value: this.state.password,\n      placeholder: \" Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"ui button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), this.props.errorState.errors ? React.createElement(\"div\", {\n      className: \"ui error message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Errors with your submission\"), React.createElement(\"ul\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.props.errorState.errorMessage))) : null);\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeUser: userObj => {\n      dispatch({\n        type: \"SET_USER\",\n        payload: userObj\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:\\Users\\kingswin\\Downloads\\learning-management-system-project-master\\learning-management-system-project-master\\lms-react-redux\\src\\Login.js"],"names":["React","Component","connect","Login","state","username","password","position","handleOnChange","e","setState","target","name","value","handleOnClick","handleOnSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","user","localStorage","setItem","jwt","failure","props","handleErrorMessage","changeUser","history","push","render","width","height","margin","teacher","student","errorState","errors","errorMessage","mapDispatchToProps","dispatch","userObj","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;;;;AAIA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1BG,KAD0B,GAClB;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,QAAQ,EAAE,EAFN;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KADkB;;AAAA,SAO1BC,cAP0B,GAORC,CAAD,IAAO;AACpB,WAAKC,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,OAAd;AAGH,KAXyB;;AAAA,SAa1BC,aAb0B,GAaTP,QAAD,IAAc;AAC1B,WAAKG,QAAL,CAAc;AACVH,QAAAA,QAAQ,EAAEA;AADA,OAAd;AAGH,KAjByB;;AAAA,SAmB1BQ,cAnB0B,GAmBRN,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACO,cAAF,GADoB,CAEpB;;AACA,UAAG,KAAKZ,KAAL,CAAWG,QAAd,EAAuB;AACnBU,QAAAA,KAAK,CAAC,kDAAD,EAAqD;AACtDC,UAAAA,MAAM,EAAE,MAD8C;AAEtDC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,sBAAU;AAFL,WAF6C;AAMtDC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACF,KAAKlB,KADH;AANgD,SAArD,CAAL,CAUCmB,IAVD,CAUMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVb,EAWCF,IAXD,CAWMG,IAAI,IAAI;AACVC,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,GAAnC,EADU,CAEV;;AACA,cAAGH,IAAI,CAACI,OAAR,EAAgB;AACZ;AACA;AACA,iBAAKC,KAAL,CAAWC,kBAAX,CAA8BN,IAAI,CAACI,OAAnC;AACH,WAJD,MAKI;AACA;AACA,iBAAKC,KAAL,CAAWE,UAAX,CAAsBP,IAAI,CAACA,IAA3B;AACA,iBAAKK,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ,SAxBD;AAyBH,OA1BD,MA2BI;AACA;AACA,aAAKJ,KAAL,CAAWC,kBAAX,CAA8B,uCAA9B;AACH;AACJ,KArDyB;AAAA;;AAsD1BI,EAAAA,MAAM,GAAG;AACL;AACA;AACA,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKtB,aAAL,CAAmB,SAAnB,CAAvB;AAAsD,MAAA,SAAS,EAAC,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFR,EAGQ;AAAK,MAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,EAIQ;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKA,aAAL,CAAmB,SAAnB,CAAvB;AAAsD,MAAA,SAAS,EAAC,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJR,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,EAWK,KAAKV,KAAL,CAAWG,QAAX,GACG;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,KAAK,EAAE;AAAC8B,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,MAAM,EAAE,OAAzB;AAAkCC,QAAAA,MAAM,EAAE;AAA1C,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,KAAKnC,KAAL,CAAWG,QAAX,KAAwB,SAAxB,GACI;AAAK,MAAA,GAAG,EAAEiC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,GAGI;AAAK,MAAA,GAAG,EAAEC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALR,CADH,GAWG,IAtBR,EAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBJ,EA0BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1BJ,EA2BI;AAAM,MAAA,SAAS,EAAC,SAAhB;AAA0B,MAAA,QAAQ,EAAE,KAAK1B,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,QAAQ,MAA3C;AAA4C,MAAA,QAAQ,EAAE,KAAKP,cAA3D;AAA2E,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,QAA7F;AAAuG,MAAA,WAAW,EAAC,WAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,QAAQ,MAA/C;AAAgD,MAAA,QAAQ,EAAE,KAAKG,cAA/D;AAA+E,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,QAAjG;AAA2G,MAAA,WAAW,EAAC,WAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CANJ,EAWI;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,IAAI,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAXJ,CA3BJ,EAwCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxCJ,EAyCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzCJ,EA2CK,KAAKyB,KAAL,CAAWW,UAAX,CAAsBC,MAAtB,GACD;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADA,EAIA;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKZ,KAAL,CAAWW,UAAX,CAAsBE,YAA3B,CADJ,CAJA,CADC,GAUD,IArDJ,CADJ;AA4DH;;AArHyB;;AAwH9B,SAASC,kBAAT,CAA4BC,QAA5B,EAAqC;AACjC,SAAO;AACHb,IAAAA,UAAU,EAAGc,OAAD,IAAa;AACrBD,MAAAA,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAC,UAAN;AAAkBC,QAAAA,OAAO,EAAEF;AAA3B,OAAD,CAAR;AACH;AAHE,GAAP;AAKH;;AAED,eAAe7C,OAAO,CAAC,IAAD,EAAO2C,kBAAP,CAAP,CAAkC1C,KAAlC,CAAf","sourcesContent":["import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport student from './noun_student_63368.svg'\nimport teacher from './noun_Teacher_642198.svg'\n\nclass Login extends Component {\n    state = {\n        username: '',\n        password: '',\n        position: ''\n    }\n\n    handleOnChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    handleOnClick = (position) => {\n        this.setState({\n            position: position\n        })\n    } \n\n    handleOnSubmit = (e) => {\n        e.preventDefault()\n        // console.log(e.target)\n        if(this.state.position){\n            fetch(\"https://lms-api-rails.herokuapp.com/api/v1/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify(\n                    this.state\n                )\n                })\n            .then(res => res.json())\n            .then(user => {\n                localStorage.setItem(\"token\", user.jwt)\n                // console.log(user.jwt)\n                if(user.failure){\n                    // console.log(user.failure)\n                    // alert(user.failure)\n                    this.props.handleErrorMessage(user.failure)\n                }\n                else{\n                    // console.log(user.user)\n                    this.props.changeUser(user.user)\n                    this.props.history.push('/courses')\n                }\n            })\n        }\n        else{\n            // alert('Please choose if a teacher or student')\n            this.props.handleErrorMessage(\"Please select if a teacher or student\")\n        }  \n    }\n    render() {\n        // console.log(this.props.errorState)\n        // console.log(this.props.errorState.errorMessage)\n        return (\n            <div className=\"ui container\">\n                <div className=\"ui buttons\">\n                        \n                        <button onClick={() => this.handleOnClick('teacher')} className=\"ui button\">Teacher</button>\n                        <div className=\"or\"></div>\n                        <button onClick={() => this.handleOnClick('student')} className=\"ui button\">Admin</button>\n                </div>\n               \n                <br></br>\n                <br></br>\n\n                {this.state.position ?\n                    <div className=\"ui segment\" style={{width: \"100px\", height: \"100px\", margin: \"auto\"}}>\n                        {\n                        this.state.position === \"teacher\" ?\n                            <img src={teacher}></img>\n                            :\n                            <img src={student}></img>\n                        }\n                    </div> \n                    \n                    : \n                    null\n                }  \n\n                <br></br>\n                <br></br>\n                <form className=\"ui form\" onSubmit={this.handleOnSubmit}>\n                    <div className=\"field\">\n                        <label>Username</label>\n                        <input type=\"text\" name=\"username\" required onChange={this.handleOnChange} value={this.state.username} placeholder=\"User Name\"/>\n                    </div>\n\n                    <div className=\"field\">\n                        <label>Password</label>\n                        <input type=\"password\" name=\"password\" required onChange={this.handleOnChange} value={this.state.password} placeholder=\" Password\"/>\n                    </div>\n\n                    <button className=\"ui button\" type=\"submit\">Login</button>\n                </form>\n                <br></br>\n                <br></br>\n\n                {this.props.errorState.errors ? \n                <div className=\"ui error message\">\n                <div className=\"header\">\n                    Errors with your submission\n                </div>\n                <ul className=\"list\">\n                    <li>{this.props.errorState.errorMessage}</li>\n                </ul>\n                </div>\n                :\n                null\n                }\n               \n    \n            </div>\n        )\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        changeUser: (userObj) => {\n            dispatch({type:\"SET_USER\", payload: userObj})\n        }\n    }\n} \n\nexport default connect(null, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}