{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kingswin\\\\Downloads\\\\learning-management-system-project-master\\\\learning-management-system-project-master\\\\lms-react-redux\\\\src\\\\EditAnnouncementForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass EditAnnouncementForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: this.props.announcement.title,\n      video_url: this.props.announcement.video_url,\n      information: this.props.announcement.information,\n      course_id: this.props.url,\n      id: this.props.announcement.id\n    };\n\n    this.handleOnChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleOnSubmit = e => {\n      const token = localStorage.getItem(\"token\");\n      e.preventDefault();\n      fetch(\"https://lms-api-rails.herokuapp.com/api/v1/courses/\".concat(this.props.url, \"/announcements/\").concat(this.state.id), {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"Authorization\": \"Bearer \".concat(token)\n        },\n        body: JSON.stringify({\n          announcement: this.state\n        })\n      }).then(resp => resp.json()).then(data => {\n        // console.log(data)\n        this.props.editAnnnouncement(data);\n        this.props.handleEditClick(''); // this.props.addAnnnouncement(data)\n      }); // console.log(this.state)\n      // this.props.editAnnnouncement(this.state)\n      // this.props.handleEditClick('')\n    };\n  }\n\n  render() {\n    // console.log(this.props)\n    // console.log(this.props.announcement)\n    // console.log(this.state)\n    return React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleOnSubmit,\n      className: \"ui tiny form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"two fields\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      value: this.state.title,\n      placeholder: \"Title\",\n      type: \"text\",\n      name: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      value: this.state.video_url,\n      placeholder: \"Video URL\",\n      type: \"text\",\n      name: \"video_url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      onChange: this.handleOnChange,\n      value: this.state.information,\n      name: \"information\",\n      placeholder: \"Information\",\n      rows: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Edit Announcement\",\n      className: \"ui submit button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    editAnnnouncement: announcementObj => {\n      dispatch({\n        type: \"EDIT_ANNOUNCEMENT\",\n        payload: announcementObj\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(EditAnnouncementForm);","map":{"version":3,"sources":["C:\\Users\\kingswin\\Downloads\\learning-management-system-project-master\\learning-management-system-project-master\\lms-react-redux\\src\\EditAnnouncementForm.js"],"names":["React","Component","connect","EditAnnouncementForm","state","title","props","announcement","video_url","information","course_id","url","id","handleOnChange","e","setState","target","name","value","handleOnSubmit","token","localStorage","getItem","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","data","editAnnnouncement","handleEditClick","render","mapDispatchToProps","dispatch","announcementObj","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\n\nclass EditAnnouncementForm extends Component {\n\n    state = {\n        title: this.props.announcement.title,\n        video_url: this.props.announcement.video_url,\n        information: this.props.announcement.information,\n        course_id: this.props.url,\n        id: this.props.announcement.id\n    }\n\n    handleOnChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n        \n    }\n\n    handleOnSubmit = (e) => {\n        const token = localStorage.getItem(\"token\")\n        e.preventDefault();\n        fetch(`https://lms-api-rails.herokuapp.com/api/v1/courses/${this.props.url}/announcements/${this.state.id}`,{\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                announcement: this.state\n            })\n        })\n        .then(resp => resp.json())\n        .then(data => {\n            // console.log(data)\n            this.props.editAnnnouncement(data)\n            this.props.handleEditClick('')\n            // this.props.addAnnnouncement(data)\n        })\n        // console.log(this.state)\n        \n        // this.props.editAnnnouncement(this.state)\n        // this.props.handleEditClick('')\n    }\n    render() {\n        // console.log(this.props)\n        // console.log(this.props.announcement)\n        // console.log(this.state)\n        return (\n            <div className=\"ui segment\">\n                <form onSubmit={this.handleOnSubmit} className=\"ui tiny form\">\n                <div className=\"two fields\">\n                    <div className=\"field\">\n                    {/* <label>First Name</label> */}\n                    <input onChange={this.handleOnChange} value ={this.state.title} placeholder=\"Title\" type=\"text\" name=\"title\"/>\n                    </div>\n                    <div className=\"field\">\n                    {/* <label>Last Name</label> */}\n                    <input onChange={this.handleOnChange} value ={this.state.video_url} placeholder=\"Video URL\" type=\"text\" name=\"video_url\"/>\n                    </div>\n                </div>\n                <div className=\"field\">\n                     {/* <label>Information</label> */}\n                     <textarea onChange={this.handleOnChange} value ={this.state.information} name=\"information\" placeholder=\"Information\" rows=\"2\" ></textarea>\n                 </div>\n                <input type=\"submit\" value=\"Edit Announcement\" className=\"ui submit button\"></input>\n            </form>\n            </div>\n            \n        )\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        editAnnnouncement: (announcementObj)=> {\n            dispatch({type: \"EDIT_ANNOUNCEMENT\", payload: announcementObj})\n        }\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(EditAnnouncementForm)\n"]},"metadata":{},"sourceType":"module"}